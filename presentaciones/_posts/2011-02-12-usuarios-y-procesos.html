---
title: Administración de usuarios y procesos
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Sesión 3</title>

  <link rel="stylesheet" href="/css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="/css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="/js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="/js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="/js/jquery-print.js"></script>
  <script type="text/javascript" src="/js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="/js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="/js/fg.menu.js"></script>
  <script type="text/javascript" src="/js/showoff.js"></script>
  <script type="text/javascript" src="/js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="/js/sh_main.min.js"></script>
  <script type="text/javascript" src="/js/core.js"></script>
  <script type="text/javascript" src="/js/showoffcore.js"></script>

  <link type="text/css" href="/css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="/css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="/css/sh_style.css" rel="stylesheet" >

  

  

  <script type="text/javascript">
  $(function(){
    setupPreso(false, './');
  });
  </script>
</head>

<body>


<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">&larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">z</td><td>toggle help (this)</td></tr>
  </table>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="usuarios/intro/1">
<h1>Administraci&#xF3;n de usuarios</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content smbullets" ref="usuarios/intro/2">
<h1>Cuentas de usuario</h1>

<ul>
<li>Linux es multisuario</li>
<li>Se identifican por su id de login</li>
<li>Existe el super-usuario</li>
<li><code>/etc/passwd</code>, <code>/etc/sudoers</code></li>
<li><code>who</code>, <code>finger</code>,  <code>whoami</code></li>
<li>El archivo <code>/etc/sudoers</code></li>
<li><code>echo 'usuario ALL=(ALL) ALL' &gt;&gt; /etc/sudoers</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="usuarios/intro/3">
<ul>
<li>Crear usuarios: <code>useradd</code></li>
<li>Cambiar de usuario: <code>su</code></li>
<li>Borrar: <code>userdel</code></li>
<li>Cambiar contrase&#xF1;a: <code>passwd</code></li>
<li>&#xBF;Qu&#xE9; hace el comando <code>usermod</code>?</li>
<li>&#xBF;Y el comando <code>chown</code>?</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content smbullets" ref="usuarios/intro/4">
<h1>Grupos de usuarios</h1>

<ul>
<li>Linux crea grupos para tareas especiales</li>
<li><code>/etc/group</code></li>
<li>Cada usuario tiene su propio grupo</li>
<li>Puede pertenecer a otros</li>
<li><code>id</code>, <code>groups</code></li>
<li>El grupo <code>root</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="usuarios/intro/5">
<ul>
<li>Crear grupos: <code>groupadd</code></li>
<li>Borrar: <code>groupdel</code></li>
<li>&#xBF;Qu&#xE9; hace el comando <code>groupmod</code>?</li>
<li>&#xBF;Y el comando <code>newgrp</code>?</li>
<li>&#xBF;Y el comando <code>chgrp</code>?</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="usuarios/intro/6">
<h1>Permisos sobre archivos</h1>

<ul>
<li><strong>&#xBF;Qui&#xE9;nes?</strong> Usuario (<code>u</code>), grupo (<code>g</code>), otros (<code>o</code>)</li>
<li><strong>&#xBF;Qu&#xE9;</strong> : lectura (<code>r</code>), escritura (<code>w</code>), ejecuci&#xF3;n (<code>x</code>), nada (<code>-</code>)</li>
<li>Para poder entrar a un directorio <strong>&#xA1;tambi&#xE9;n debe ser ejecutable!</strong></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="usuarios/intro/7">
<h1>C&#xF3;digos num&#xE9;ricos para permisos</h1>

<ul>
<li><strong>4</strong> : equivale a lectura</li>
<li><strong>2</strong>: escritura</li>
<li><strong>1</strong>: ejecuci&#xF3;n</li>
<li>se pueden combinar (sum&#xE1;ndolos)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="usuarios/intro/8">
<h1>El comando <code>chmod</code></h1>

<ul>
<li><code>chmod MODO ARCHIVOS</code></li>
<li>Puede usar n&#xFA;meros: <code>chmod 400 archivo</code></li>
<li>&#xBF;Qu&#xE9; hacen 500 (dir), 600, 644, 660, 700, 755 (dir), 775, 777?</li>
<li>&#xBF;Qu&#xE9; hace el comando <code>umask</code>?</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="usuarios/intro/9">
<h1>Un ejemplo completo</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="usuarios/intro/10">
<pre><code>sudo useradd -m -s /bin/bash jgalt
sudo passwd jgalt
su jgalt
cd 
cat &gt; hola &lt;&lt; EOF
#!/usr/bin/python
print "hola mundo\n"*3
EOF
chmod 750 hola
exit
sudo groupadd grupo
sudo usermod -a -G grupo jgalt
sudo usermod -a -G grupo lfborjas
</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="procesos/intro/1">
<h1>Procesos</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/2">
<h1>Linux es multi-proceso</h1>

<ul>
<li>Puede haber varios procesos</li>
<li>Un programa puede consistir en <em>m&#xE1;s de uno</em></li>
<li>Varios usuarios pueden estar</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content smbullets" ref="procesos/intro/3">
<h1>Procesos interactivos</h1>

<ul>
<li>Iniciados expl&#xED;citamente</li>
<li>Son los que quedan conectados a la terminal</li>
<li>Pueden esperar participaci&#xF3;n del usuario (p.e. <code>more</code>, <code>vi</code>)</li>
<li>Pero algunos podr&#xED;an enviarse al fondo (<strong>background</strong>)</li>
<li>P.e: descargar archivos o crear respaldos</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content smbullets incremental" ref="procesos/intro/4">
<h1>Foreground vs Background</h1>

<ul>
<li>&#xBF;Qu&#xE9; pasa si iniciamos el proceso <code>firefox</code>?</li>
<li>C&#xF3;mo hacemos que <em>no</em> se apropie de la terminal</li>
<li><code>firefox &amp;</code></li>
<li>El comando <code>jobs</code> para ver los procesos de fondo</li>
<li>&#xBF;C&#xF3;mo detenemos/matamos un proceso de fondo?</li>
<li>La expresi&#xF3;n <code>%</code>, <code>CTRL+Z</code> vs <code>CTRL+C</code>; <code>fg</code> vs. <code>bg</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/5">
<h1>Procesos autom&#xE1;ticos</h1>

<ul>
<li><strong>No</strong> se inician expl&#xED;citamente</li>
<li>Usualmente est&#xE1;n en una cola de espera</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/6">
<h1>"Daemons"</h1>

<ul>
<li>Procesos de fondo que "nunca" mueren</li>
<li>Usualmente inician al arranque y esperan que se los necesite</li>
<li>Ejemplo: un web server (como <code>apache2</code>)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/7">
<h1>Ciclo de vida</h1>

<ul>
<li>Un proceso nuevo sale como copia de otro</li>
<li>Esto se llama <code>fork</code>.</li>
<li>Si se quiere un proceso distinto, se hace un <code>exec</code></li>
<li>Ejemplo: el comando <code>pstree</code></li>
<li>Un proceso hu&#xE9;rfano es un <strong>zombie</strong>.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/8">
<h1>Informaci&#xF3;n</h1>

<ul>
<li>El comando <code>ps</code> para ver informaci&#xF3;n</li>
<li>El comando <code>top</code></li>
<li>Estos comandos s&#xF3;lo leen archivos:
<code>/var/run/utmp</code> y <code>/proc/*</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content smbullets" ref="procesos/intro/9">
<h1>Atributos de un proceso</h1>

<ul>
<li><code>ps -af</code></li>
<li><code>UID</code>: el usuario que lo inici&#xF3;. Tiene <em>los mismos</em> permisos</li>
<li><code>PID</code>: un identificador del proceso</li>
<li><code>PPID</code>: identificador del padre</li>
<li><code>TTY</code>: la terminal donde est&#xE1; conectado</li>
<li><strong>Truco</strong>: <code>ps -ef | grep &lt;NOMBRE&gt;</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/10">
<h1>Se&#xF1;ales</h1>

<ul>
<li>El comando <code>kill</code> puede enviarle "se&#xF1;ales" a un proceso:</li>
<li><code>9</code>(<strong>SIGKILL</strong>): interrumpir el proceso, no importa qu&#xE9;</li>
<li><code>15</code>(<strong>SIGTERM</strong>): terminar cuando se pueda</li>
<li><code>2</code>: interrumpir, si quiere el proceso</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/11">
<h1>Terminando procesos</h1>

<ul>
<li>Podemos matarlos con <code>CTRL+C</code></li>
<li>Si ya no est&#xE1;n en la terminal,
pero sabemos el <code>PID</code>, <code>kill -9 &lt;PID&gt;</code></li>
<li>Cuando un proceso termina, retorna un c&#xF3;digo de terminaci&#xF3;n.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="procesos/intro/12">
<h1>Procesos y grupos</h1>

<ul>
<li>Necesitan permisos que el usuario no tiene</li>
<li>Usan <em>grupos</em> especiales</li>
<li>Ejemplo: <code>apache2</code></li>
</ul>

</div>
</div>
</div>

</body>
</html>
